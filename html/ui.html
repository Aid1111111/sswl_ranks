<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Southside WL</title>
<link rel="stylesheet" href="ui.css">
</head>
<body>
<div id="rankUI">
    <div class="header">
        ğŸŒŸ SOUTHISDE WL â€“ RANKED SYSTEM ğŸŒŸ
        <div class="discord">Discord: .gg/sswl</div>
    </div>
    <div class="rank-section">
        <div>Rank: <span id="rank">Rookie</span> <span id="badge" class="badge">ğŸŸ¤</span></div>
        <div>XP: <span id="xp">0</span></div>
        <div class="xp-bar">
            <div id="xpFill"></div>
        </div>
    </div>
    <div class="actions">
        <div>âš”ï¸ Kills: +10 XP</div>
        <div>ğŸ’° Sales Completed: +25 XP</div>
        <div>ğŸ¯ Daily Objective: +50 XP</div>
    </div>
    <div class="next-rank">
        NEXT RANK â†’ <span id="nextRank">Apprentice</span>
    </div>
</div>

<script>
window.addEventListener('message', function(event) {
    if(event.data.action == "show") document.getElementById('rankUI').style.display = 'block';
    if(event.data.action == "hide") document.getElementById('rankUI').style.display = 'none';
    if(event.data.action == "updateUI") {
        document.getElementById('rank').innerText = event.data.rank;
        document.getElementById('xp').innerText = event.data.xp;
        document.getElementById('badge').innerText = event.data.badge;

        let xpPercent = Math.min((event.data.xp % 250) / 250 * 100, 100);
        document.getElementById('xpFill').style.width = xpPercent + '%';

        const rankList = ["Rookie","Apprentice","Warrior","Elite","Champion"];
        const nextIndex = rankList.indexOf(event.data.rank) + 1;
        document.getElementById('nextRank').innerText = nextIndex < rankList.length ? rankList[nextIndex] : "Max";
    }
});
</script>
</body>
</html>
